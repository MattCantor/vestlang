"use strict";(self.webpackChunk_vestlang_docs=self.webpackChunk_vestlang_docs||[]).push([[581],{3272:(e,t,l)=>{l.r(t),l.d(t,{assets:()=>c,contentTitle:()=>r,default:()=>x,frontMatter:()=>d,metadata:()=>n,toc:()=>h});const n=JSON.parse('{"id":"evaluation","title":"Evaluation","description":"Evaluation converts the AST into a sequence of vesting installments that are either resolved (with a concrete ISO date), unresolved (with a symbolic date and blockers), or impossible (with blockers).","source":"@site/docs/evaluation.md","sourceDirName":".","slug":"/evaluation","permalink":"/vestlang/evaluation","draft":false,"unlisted":false,"editUrl":"https://github.com/MattCantor/vestlang/docs/evaluation.md","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"title":"Evaluation","sidebar_position":3},"sidebar":"tutorialSidebar","previous":{"title":"Abstract Syntax Tree","permalink":"/vestlang/ast"},"next":{"title":"Command Line Interface","permalink":"/vestlang/cli"}}');var s=l(5270),i=l(6336);const d={title:"Evaluation",sidebar_position:3},r=void 0,c={},h=[{value:"Evaluation context",id:"evaluation-context",level:2},{value:"Events",id:"events",level:3},{value:"Vesting Day of Month",id:"vesting-day-of-month",level:3},{value:"Allocation Type",id:"allocation-type",level:3},{value:"As Of Date",id:"as-of-date",level:3},{value:"Resolved Installments",id:"resolved-installments",level:2},{value:"Example: Standard Time-Based Vesting",id:"example-standard-time-based-vesting",level:3},{value:"DSL",id:"dsl",level:4},{value:"Vesting Installments",id:"vesting-installments",level:4},{value:"Unresolved Installments",id:"unresolved-installments",level:2},{value:"Before Vesting Date",id:"before-vesting-date",level:3},{value:"DSL",id:"dsl-1",level:4},{value:"Vesting Installments",id:"vesting-installments-1",level:4},{value:"Start Plus",id:"start-plus",level:3},{value:"DSL",id:"dsl-2",level:4},{value:"Vesting Installments",id:"vesting-installments-2",level:4},{value:"Maybe Before Cliff",id:"maybe-before-cliff",level:3},{value:"DSL",id:"dsl-3",level:4},{value:"Vesting Installments",id:"vesting-installments-3",level:4},{value:"Impossible Installments",id:"impossible-installments",level:2},{value:"DSL",id:"dsl-4",level:4},{value:"Vesting Installments",id:"vesting-installments-4",level:4},{value:"Special Cases",id:"special-cases",level:2},{value:"Partial Knowledge for LATER OF selectors",id:"partial-knowledge-for-later-of-selectors",level:3},{value:"Vesting start before grant date",id:"vesting-start-before-grant-date",level:3},{value:"Blockers",id:"blockers",level:2}];function a(e){const t={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",h4:"h4",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(t.p,{children:["Evaluation converts the AST into a sequence of vesting installments that are either ",(0,s.jsx)(t.strong,{children:"resolved"})," (with a concrete ISO date), ",(0,s.jsx)(t.strong,{children:"unresolved"})," (with a symbolic date and blockers), or ",(0,s.jsx)(t.strong,{children:"impossible"})," (with blockers)."]}),"\n",(0,s.jsx)(t.p,{children:"The evaluator:"}),"\n",(0,s.jsxs)(t.ol,{children:["\n",(0,s.jsxs)(t.li,{children:["Attempts to resolve a ",(0,s.jsx)(t.strong,{children:"vesting start"})," date"]}),"\n",(0,s.jsxs)(t.li,{children:["Builds the periodic ",(0,s.jsx)(t.strong,{children:"dates"})," (or symbolic dates) for the vesting period"]}),"\n",(0,s.jsx)(t.li,{children:'Treats the grant date as a "soft cliff" if any vesting installments precede the grant date (see below)'}),"\n",(0,s.jsxs)(t.li,{children:["Applies any explicit ",(0,s.jsx)(t.strong,{children:"CLIFF"})," if present (including partial knowledge for ",(0,s.jsx)(t.code,{children:"LATER OF"})," cliffs, see below)"]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"Allocates"})," the statement's amount across installments using the configured allocation mode"]}),"\n",(0,s.jsx)(t.li,{children:"Emits vesting installments with metadata."}),"\n"]}),"\n",(0,s.jsx)(t.admonition,{type:"note",children:(0,s.jsx)(t.p,{children:"The shape and content of all metadata described below should be viewed as a bogey intended for discussion. All comments welcome!"})}),"\n",(0,s.jsx)(t.hr,{}),"\n",(0,s.jsx)(t.h2,{id:"evaluation-context",children:"Evaluation context"}),"\n",(0,s.jsx)(t.p,{children:"The following evaluation context is supplied the evaluator:"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-ts",children:"{\n  events: { grantDate: OCTDate } & Record<string, OCTDate | undefined>,\n  grantQuantity: number,\n  asOf: OCTDate,\n  vesting_day_of_month: vesting_day_of_month\n  allocation_type: allocation_type\n}\n"})}),"\n",(0,s.jsx)(t.h3,{id:"events",children:"Events"}),"\n",(0,s.jsxs)(t.p,{children:["The grant date of the security (",(0,s.jsx)(t.code,{children:"events[grantDate]"}),") and the quantity of shares (",(0,s.jsx)(t.code,{children:"grantQuantity"}),") are required."]}),"\n",(0,s.jsxs)(t.p,{children:["If the vesting start is resolved through the course of the evaluation, ",(0,s.jsx)(t.code,{children:"EVENT vestingStart"})," is added to the ",(0,s.jsx)(t.code,{children:"events"})," record."]}),"\n",(0,s.jsx)(t.h3,{id:"vesting-day-of-month",children:"Vesting Day of Month"}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.code,{children:"vesting_day_of_month"})," tracks the OCT schema found ",(0,s.jsx)(t.a,{href:"https://open-cap-table-coalition.github.io/Open-Cap-Format-OCF/schema_markdown/schema/types/vesting/VestingPeriodInMonths/",children:"here"}),", and defaults to ",(0,s.jsx)(t.code,{children:"VESTING_START_DAY_OR_LAST_DAY_OF_MONTH"}),"."]}),"\n",(0,s.jsx)(t.h3,{id:"allocation-type",children:"Allocation Type"}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.code,{children:"allocation_type"})," tracks the OCT schema found ",(0,s.jsx)(t.a,{href:"https://open-cap-table-coaltion.github.io/Open-Cap-Format-OCF/schema_markdown/schema/enums/AllocationType/",children:"here"}),", and defaults to ",(0,s.jsx)(t.code,{children:"CUMULATIVE_ROUND_DOWN"}),"."]}),"\n",(0,s.jsx)(t.h3,{id:"as-of-date",children:"As Of Date"}),"\n",(0,s.jsxs)(t.p,{children:["The ",(0,s.jsx)(t.code,{children:"asOf"})," date is used to determine whether time-limited conditions have occured, and defaults to the current date if not provided."]}),"\n",(0,s.jsx)(t.p,{children:"For instance, consider a vesting schedule that starts if a milestone occurs before a given date in the future:"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-vest",children:"VEST FROM EVENT milestone BEFORE DATE 9999-01-01\n"})}),"\n",(0,s.jsxs)(t.p,{children:["If this statement is evaluated with an unresolved ",(0,s.jsx)(t.code,{children:"EVENT milestone"}),", then vesting start will be unresolved. The returned tranche will be ",(0,s.jsx)(t.code,{children:"UNRERESOLVED"})," rather than ",(0,s.jsx)(t.code,{children:"IMPOSSIBLE"})," because the milestone event may occur in the future and the deadline has not yet elapsed."]}),"\n",(0,s.jsx)(t.hr,{}),"\n",(0,s.jsx)(t.h2,{id:"resolved-installments",children:"Resolved Installments"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-ts",children:'{\n  amount: number,\n  date: OCTDate,\n  meta: {\n    state: "RESOLVED"\n  }\n}\n'})}),"\n",(0,s.jsx)(t.h3,{id:"example-standard-time-based-vesting",children:"Example: Standard Time-Based Vesting"}),"\n",(0,s.jsx)(t.p,{children:"A time-based vesting schedule without conditions always resolves. The example below assumes a grant date of 2025-01-01."}),"\n",(0,s.jsx)(t.h4,{id:"dsl",children:"DSL"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-vest",children:"100 VEST\n  OVER 48 months EVERY 12 months\n"})}),"\n",(0,s.jsx)(t.h4,{id:"vesting-installments",children:"Vesting Installments"}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Amount"}),(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Date"}),(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"State"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"25"}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"2026-01-01"}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"RESOLVED"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"25"}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"2027-01-01"}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"RESOLVED"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"25"}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"2028-01-01"}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"RESOLVED"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"25"}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"2029-01-01"}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"RESOLVED"})]})]})]}),"\n",(0,s.jsx)(t.h2,{id:"unresolved-installments",children:"Unresolved Installments"}),"\n",(0,s.jsx)(t.p,{children:"Unrsolved installments have the following shape:"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-ts",children:'{\n  amount: number,\n  meta: {\n    state: "UNRESOLVED",\n    date: SymbolicDate,\n    blockers: string[]\n  }\n}\n'})}),"\n",(0,s.jsx)(t.p,{children:"Unresolved installments contain the one of the following symbolic dates:"}),"\n",(0,s.jsx)(t.h3,{id:"before-vesting-date",children:"Before Vesting Date"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-ts",children:'{\n  type: "UNRESOLVED_VESTING_START";\n}\n'})}),"\n",(0,s.jsx)(t.h4,{id:"dsl-1",children:"DSL"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-vest",children:"100 VEST FROM EVENT milestone\n"})}),"\n",(0,s.jsx)(t.h4,{id:"vesting-installments-1",children:"Vesting Installments"}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Amount"}),(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Date"}),(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Status"}),(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Blockers"})]})}),(0,s.jsx)(t.tbody,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"100"}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"{type: UNRESOLVED_VESTING_START }"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"UNRESOLVED"}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"EVENT milestone"})})]})})]}),"\n",(0,s.jsx)(t.h3,{id:"start-plus",children:"Start Plus"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-ts",children:'{\n  type: "START_PLUS",\n  unit: "DAYS" | "MONTHS",\n  steps: number\n}\n'})}),"\n",(0,s.jsx)(t.h4,{id:"dsl-2",children:"DSL"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-vest",children:"100 VEST FROM LATER OF(\n  DATE 2025-01-01,\n  EVENT milestone2\n)\n  OVER 48 months EVERY 12 months\n"})}),"\n",(0,s.jsx)(t.h4,{id:"vesting-installments-2",children:"Vesting Installments"}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Amount"}),(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Date"}),(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"State"}),(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Blockers"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"25"}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"{ type: START_PLUS, unit: MONTHS, steps: 0 }"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"UNRESOLVED"}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"EVENT milestone2"})})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"25"}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"{ type: START_PLUS, unit: MONTHS, steps: 12 }"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"UNRESOLVED"}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"EVENT milestone2"})})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"25"}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"{ type: START_PLUS, unit: MONTHS, steps: 24 }"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"UNRESOLVED"}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"EVENT milestone2"})})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"25"}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"{ type: START_PLUS, unit: MONTHS, steps: 36 }"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"UNRESOLVED"}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"EVENT milestone2"})})]})]})]}),"\n",(0,s.jsx)(t.h3,{id:"maybe-before-cliff",children:"Maybe Before Cliff"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-ts",children:'{\n  type: "UNRESOLVED_CLIFF",\n  date: OCTDate\n}\n'})}),"\n",(0,s.jsx)(t.h4,{id:"dsl-3",children:"DSL"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-vest",children:"100 VEST\n  OVER 48 months EVERY 12 months\n  CLIFF EVENT milestone\n"})}),"\n",(0,s.jsx)(t.h4,{id:"vesting-installments-3",children:"Vesting Installments"}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Amount"}),(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Date"}),(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"State"}),(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Blockers"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"25"}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"{ type: UNRESOLVED_CLIFF, date: 2026-01-01 }"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"UNRESOLVED"}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"EVENT milestone"})})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"25"}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"{ type: UNRESOLVED_CLIFF, date: 2027-01-01 }"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"UNRESOLVED"}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"EVENT milestone"})})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"25"}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"{ type: UNRESOLVED_CLIFF, date: 2028-01-01 }"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"UNRESOLVED"}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"EVENT milestone"})})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"25"}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"{ type: UNRESOLVED_CLIFF, date: 2029-01-01 }"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"UNRESOLVED"}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"EVENT milestone"})})]})]})]}),"\n",(0,s.jsx)(t.h2,{id:"impossible-installments",children:"Impossible Installments"}),"\n",(0,s.jsx)(t.p,{children:"Impossible installments have the following shape:"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-ts",children:'{\n  amount: number,\n  meta: {\n    state: "IMPOSSIBLE",\n    blockers: string[]\n  }\n}\n'})}),"\n",(0,s.jsx)(t.h4,{id:"dsl-4",children:"DSL"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-vest",children:"100 VEST FROM EVENT milestone BEFORE DATE 2025-01-01\n"})}),"\n",(0,s.jsx)(t.h4,{id:"vesting-installments-4",children:"Vesting Installments"}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Amount"}),(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"State"}),(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Blockers"})]})}),(0,s.jsx)(t.tbody,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"100"}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"IMPOSSIBLE"}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"EVENT milestone BEFORE DATE 2025-01-01"})})]})})]}),"\n",(0,s.jsx)(t.hr,{}),"\n",(0,s.jsx)(t.h2,{id:"special-cases",children:"Special Cases"}),"\n",(0,s.jsx)(t.h3,{id:"partial-knowledge-for-later-of-selectors",children:"Partial Knowledge for LATER OF selectors"}),"\n",(0,s.jsxs)(t.p,{children:["In the case of a ",(0,s.jsx)(t.code,{children:"LATER OF"})," selector, if some but not all items are resolved, we preserve the information gleaned from the resolved items."]}),"\n",(0,s.jsx)(t.p,{children:"By way of example, consider a 4-year quarterly vesting schedule, with a cliff at the later of 12 months from the vesting start and a milestone event. The grant is made on 2025-01-01 over 100 shares."}),"\n",(0,s.jsx)(t.p,{children:"This vesting schedule is described with the following statement:"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-vest",children:"100 VEST\n  OVER 48 months EVERY 3 months\n  CLIFF LATER OF(\n    +12 months,\n    EVENT milestone\n  )\n"})}),"\n",(0,s.jsxs)(t.p,{children:["If this statement is evaluated at a time when ",(0,s.jsx)(t.code,{children:"EVENT milestone"})," is not resolved, the vesting start will be unresolved."]}),"\n",(0,s.jsxs)(t.p,{children:["Nonetheless, since this is a ",(0,s.jsx)(t.code,{children:"LATER OF"})," statement we know that a that a 12 month cliff will always apply:"]}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"Amount"}),(0,s.jsx)(t.th,{children:"Symbolic Date"}),(0,s.jsx)(t.th,{children:"State"}),(0,s.jsx)(t.th,{children:"Blockers"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"25"}),(0,s.jsx)(t.td,{children:(0,s.jsx)(t.code,{children:"{type: UNRESOLVED_CLIFF, date: 2026-01-01}"})}),(0,s.jsx)(t.td,{children:"UNRESOLVED"}),(0,s.jsx)(t.td,{children:"EVENT milestone"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"6"}),(0,s.jsx)(t.td,{children:(0,s.jsx)(t.code,{children:"{type: UNRESOLVED_CLIFF, date: 2026-04-01}"})}),(0,s.jsx)(t.td,{children:"UNRESOLVED"}),(0,s.jsx)(t.td,{children:"EVENT milestone"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"6"}),(0,s.jsx)(t.td,{children:(0,s.jsx)(t.code,{children:"{type: UNRESOLVED_CLIFF, date: 2026-07-01}"})}),(0,s.jsx)(t.td,{children:"UNRESOLVED"}),(0,s.jsx)(t.td,{children:"EVENT milestone"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"6"}),(0,s.jsx)(t.td,{children:(0,s.jsx)(t.code,{children:"{type: UNRESOLVED_CLIFF, date: 2026-10-01}"})}),(0,s.jsx)(t.td,{children:"UNRESOLVED"}),(0,s.jsx)(t.td,{children:"EVENT milestone"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"7"}),(0,s.jsx)(t.td,{children:(0,s.jsx)(t.code,{children:"{type: UNRESOLVED_CLIFF, date: 2027-01-01}"})}),(0,s.jsx)(t.td,{children:"UNRESOLVED"}),(0,s.jsx)(t.td,{children:"EVENT milestone"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"6"}),(0,s.jsx)(t.td,{children:(0,s.jsx)(t.code,{children:"{type: UNRESOLVED_CLIFF, date: 2027-04-01}"})}),(0,s.jsx)(t.td,{children:"UNRESOLVED"}),(0,s.jsx)(t.td,{children:"EVENT milestone"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"6"}),(0,s.jsx)(t.td,{children:(0,s.jsx)(t.code,{children:"{type: UNRESOLVED_CLIFF, date: 2027-07-01}"})}),(0,s.jsx)(t.td,{children:"UNRESOLVED"}),(0,s.jsx)(t.td,{children:"EVENT milestone"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"6"}),(0,s.jsx)(t.td,{children:(0,s.jsx)(t.code,{children:"{type: UNRESOLVED_CLIFF, date: 2027-10-01}"})}),(0,s.jsx)(t.td,{children:"UNRESOLVED"}),(0,s.jsx)(t.td,{children:"EVENT milestone"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"7"}),(0,s.jsx)(t.td,{children:(0,s.jsx)(t.code,{children:"{type: UNRESOLVED_CLIFF, date: 2028-01-01}"})}),(0,s.jsx)(t.td,{children:"UNRESOLVED"}),(0,s.jsx)(t.td,{children:"EVENT milestone"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"6"}),(0,s.jsx)(t.td,{children:(0,s.jsx)(t.code,{children:"{type: UNRESOLVED_CLIFF, date: 2028-04-01}"})}),(0,s.jsx)(t.td,{children:"UNRESOLVED"}),(0,s.jsx)(t.td,{children:"EVENT milestone"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"6"}),(0,s.jsx)(t.td,{children:(0,s.jsx)(t.code,{children:"{type: UNRESOLVED_CLIFF, date: 2028-07-01}"})}),(0,s.jsx)(t.td,{children:"UNRESOLVED"}),(0,s.jsx)(t.td,{children:"EVENT milestone"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"6"}),(0,s.jsx)(t.td,{children:(0,s.jsx)(t.code,{children:"{type: UNRESOLVED_CLIFF, date: 2028-10-01}"})}),(0,s.jsx)(t.td,{children:"UNRESOLVED"}),(0,s.jsx)(t.td,{children:"EVENT milestone"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"7"}),(0,s.jsx)(t.td,{children:(0,s.jsx)(t.code,{children:"{type: UNRESOLVED_CLIFF, date: 2029-01-01}"})}),(0,s.jsx)(t.td,{children:"UNRESOLVED"}),(0,s.jsx)(t.td,{children:"EVENT milestone"})]})]})]}),"\n",(0,s.jsx)(t.h3,{id:"vesting-start-before-grant-date",children:"Vesting start before grant date"}),"\n",(0,s.jsx)(t.p,{children:"Awards are often granted with a vesting start that precedes the grant date in order to provide vesting credit for services that have already been provided. In these situations the evaluator accrues vesting amounts until the grant date."}),"\n",(0,s.jsx)(t.p,{children:"For instance, consider an award over 100 shares granted on 2025-01-01 with a 4-year quarterly vesting schedule commencing on 2024-01-01. All four vesting installments in calendar year 2024 are accrued and vest on the grant date."}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-vest",children:"100 VEST FROM DATE 2024-01-01\n  OVER 48 months EVERY 3 months\n"})}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Amount"}),(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Date"}),(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"State"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"25"}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"2025-01-01"}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"RESOLVED"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"6"}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"2025-04-01"}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"RESOLVED"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"6"}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"2025-07-01"}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"RESOLVED"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"6"}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"2025-10-01"}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"RESOLVED"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"7"}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"2026-01-01"}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"RESOLVED"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"6"}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"2026-04-01"}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"RESOLVED"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"6"}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"2026-07-01"}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"RESOLVED"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"6"}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"2026-10-01"}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"RESOLVED"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"7"}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"2027-01-01"}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"RESOLVED"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"6"}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"2027-04-01"}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"RESOLVED"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"6"}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"2027-07-01"}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"RESOLVED"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"6"}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"2027-10-01"}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"RESOLVED"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"7"}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"2028-01-01"}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"RESOLVED"})]})]})]}),"\n",(0,s.jsx)(t.h2,{id:"blockers",children:"Blockers"}),"\n",(0,s.jsxs)(t.p,{children:["The ",(0,s.jsx)(t.code,{children:"blockers"})," included in the resolved and unresolved vesting installments above are partial vestlang DSL statemens, representing the portion of the statement that has not yet resolved."]}),"\n",(0,s.jsx)(t.p,{children:"Within the evaluator, this is done via interpretating the following internal blocker shapes. These blockers could be returned with each vesting installment directly, rather than the interpreted DSL string:"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-ts",children:'type UnresolvedBlocker =\n  | {\n      type: "EVENT_NOT_YET_OCCURRED";\n      event: string;\n    }\n  | {\n      type: "UNRESOLVED_SELECTOR";\n      selector: "EARLIER_OF" | "LATER_OF";\n      blockers: Blocker[];\n    }\n  | {\n      type: "DATE_NOT_YET_OCCURRED";\n      date: OCTDate;\n    }\n  | {\n      type: "UNRESOLVED_CONDITION";\n      condition: Omit<VestingNode, "type">;\n    };\n\ntype ImpossibleBlocker =\n  | {\n      type: "IMPOSSIBLE_SELECTOR";\n      selector: "EARLIER_OF" | "LATER_OF";\n      blockers: ImpossibleBlocker[];\n    }\n  | {\n      type: "IMPOSSIBLE_CONDITION";\n      condition: Omit<VestingNode, "type">;\n    };\n'})})]})}function x(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(a,{...e})}):a(e)}},6336:(e,t,l)=>{l.d(t,{R:()=>d,x:()=>r});var n=l(9430);const s={},i=n.createContext(s);function d(e){const t=n.useContext(i);return n.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function r(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:d(e.components),n.createElement(i.Provider,{value:t},e.children)}}}]);