"use strict";(self.webpackChunk_vestlang_docs=self.webpackChunk_vestlang_docs||[]).push([[978],{6336:(e,n,t)=>{t.d(n,{R:()=>o,x:()=>d});var i=t(9430);const s={},r=i.createContext(s);function o(e){const n=i.useContext(r);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),i.createElement(r.Provider,{value:n},e.children)}},6354:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>d,default:()=>h,frontMatter:()=>o,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"dsl_grammar","title":"DSL Grammar","description":"The DSL uses the following grammar. All keywords are case-insensitive.","source":"@site/docs/dsl_grammar.md","sourceDirName":".","slug":"/dsl_grammar","permalink":"/vestlang/dsl_grammar","draft":false,"unlisted":false,"editUrl":"https://github.com/MattCantor/vestlang/docs/dsl_grammar.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"title":"DSL Grammar","sidebar_position":1},"sidebar":"tutorialSidebar","previous":{"title":"Introduction","permalink":"/vestlang/"},"next":{"title":"Abstract Syntax Tree","permalink":"/vestlang/ast"}}');var s=t(5270),r=t(6336);const o={title:"DSL Grammar",sidebar_position:1},d=void 0,l={},c=[{value:"Vesting Expressions",id:"vesting-expressions",level:3},{value:"Conditions",id:"conditions",level:3},{value:"Duration",id:"duration",level:3},{value:"Amount",id:"amount",level:3}];function a(e){const n={code:"code",h3:"h3",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.p,{children:"The DSL uses the following grammar. All keywords are case-insensitive."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"[ <amount> ] VEST\n    [ FROM <vesting-expr> [ OVER <duration> EVERY <duration> ] ]\n    [ CLIFF <vesting-expr> ]\n"})}),"\n",(0,s.jsx)(n.h3,{id:"vesting-expressions",children:"Vesting Expressions"}),"\n",(0,s.jsxs)(n.p,{children:["A ",(0,s.jsx)(n.code,{children:"<vesting-expr>"})," is either a singleton (described below), or a selector over ",(0,s.jsx)(n.code,{children:"<vesting-expr"}),"s:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"( EARLIER OF | LATER OF ) (\n    <vesting-expr>,\n    <vesting-expr>\n    [, <vesting-expr>...]\n)\n"})}),"\n",(0,s.jsxs)(n.p,{children:["A singleton ",(0,s.jsx)(n.code,{children:"<vesting-expr>"})," is a date literal or an event, with one or more optional ",(0,s.jsx)(n.code,{children:"<condition>"}),"s."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"( DATE <iso> | EVENT <string> ) [ <condition> ]\n"})}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{style:{textAlign:"left"},children:"Node"}),(0,s.jsx)(n.th,{style:{textAlign:"left"},children:"Pattern"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"Date"}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:(0,s.jsx)(n.code,{children:'([0-9][0-9][0-9] "-" [0-1][0-9] "-" [0-3][0-9]) '})})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"Event"}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:(0,s.jsx)(n.code,{children:"([A-Za-z\\_][A-Za-z0-9_]\\*)"})})]})]})]}),"\n",(0,s.jsx)(n.h3,{id:"conditions",children:"Conditions"}),"\n",(0,s.jsxs)(n.p,{children:["A ",(0,s.jsx)(n.code,{children:"<condition>"})," describes a ",(0,s.jsx)(n.code,{children:"<duration>"})," preceding or following a singleton ",(0,s.jsx)(n.code,{children:"<vesting-expr>"}),", as follows:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"[ ( BEFORE | AFTER )\n    ( DATE <iso> | EVENT <string> ) [ ( + | - ) <duration> ] ]\n"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"<condition>"}),"s may be chained with ",(0,s.jsx)(n.code,{children:"AND"})," and ",(0,s.jsx)(n.code,{children:"OR"})," operators..."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"<condition> AND <condition> OR <condition>\n"})}),"\n",(0,s.jsx)(n.p,{children:"...or grouped with parentheses."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"(AND | OR) (\n    <condition>,\n    <condition>,\n    [, condition...]\n)\n"})}),"\n",(0,s.jsx)(n.h3,{id:"duration",children:"Duration"}),"\n",(0,s.jsx)(n.p,{children:"A duration is given by the following:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"<number> (year|years|month|months|week|weeks|day|days)\n"})}),"\n",(0,s.jsx)(n.h3,{id:"amount",children:"Amount"}),"\n",(0,s.jsxs)(n.p,{children:["An ",(0,s.jsx)(n.code,{children:"<amount>"})," may be provided with a decimal, indicating a portion between 0 and 1 inclusive..."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"0.5 VEST OVER 4 years EVERY 1 month\n"})}),"\n",(0,s.jsx)(n.p,{children:"...as a fraction, indicating a portion of the total quantity applicable to the security..."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"1/2 VEST OVER 4 years EVERY 1 month\n"})}),"\n",(0,s.jsx)(n.p,{children:"...or as an interger, indicating an absolute number of shares."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"100 VEST OVER 4 years EVERY 1 month\n"})})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(a,{...e})}):a(e)}}}]);